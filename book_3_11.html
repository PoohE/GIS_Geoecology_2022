<!DOCTYPE html> 
<html lang="en">
<head>
      <title>morphomrtrica</title>
      <link rel="stylesheet" href="style.css">
</head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
* {
  box-sizing: border-box;
}


figure {
    width: 50%; /* Ширина если надо расположить 2 картинки в ряд*/
    float: left; /* Выстраиваем элементы по горизонтали */
    margin: 0 0 0 0%; /* Отступ слева */
   text-indent: 0px; /* убираем отступ для картинки как ни странно */
   /* background: #f0f0f0; /* Цвет фона */
    border-radius: 1px; /* Радиус скругления */
    padding: 0%; /* Поля */
   }
   figure:first-child {
    margin-left: 0; /* Убираем отступ для первого элемента */
   }

picture {
 width: 33%; /* Ширина если надо расположить 3 картинки в ряд*/
    float: left; /* Выстраиваем элементы по горизонтали */
    margin: 0 0 0 0%; /* Отступ слева */
   text-indent: 0px; /* убираем отступ для картинки как ни странно */
   /* background: #f0f0f0; /* Цвет фона */
    border-radius: 1px; /* Радиус скругления */
    padding: 0%; /* Поля */
}
picture:first-child {
    margin-left: 0; /* Убираем отступ для первого элемента */
   }

   image {
    width: 100%; /* Ширина если надо расположить 1 картинки в ряд*/
    float: left; /* Выстраиваем элементы по горизонтали */
    margin: 0 0 0 0%; /* Отступ слева */
   text-indent: 0px; /* убираем отступ для картинки как ни странно */
   /* background: #f0f0f0; /* Цвет фона */
    border-radius: 1px; /* Радиус скругления */
    padding: 1%; /* Поля */
   }

</style>
</head>
<body>

	<div class="sidenav">
<p><a href="#h1">III. ГЕОМОРФОМЕТРИЯ И СОВРЕМЕННЫЕ ПОДХОДЫ К ЛАНДШАФТНОМУ СИНТЕЗУ</a></p>
<p><a href="#h2">11. МОРФОМЕТРИЧЕСКИЕ ПОКАЗАТЕЛИ ЗЕМНОЙ ПОВЕРХНОСТИ</a></p>

  	 <a href="#h3_1">11.1. Морфометрические переменные и элементарные поверхности</a>
  	 <a href="#h3_2">11.2. Переменные группы формы и потоков</a>
	 <a href="#h3_3">11.3. Переменные относительного положения на склоне</a>
	 <a href="#h3_4">11.4. Сложные переменные разных групп</a>
	 <a href="#h3_5">11.5. Классификация и генерализация переменных</a>
     <a href="#h3_6">11.6. Классификация в SAGA GIS</a>
	 <a href="#h3_7">11.7. Техника комбинирования морфометрических переменных</a>


</div class="sidenav">

<div class="content">

	<h1 id="h1">III. ГЕОМОРФОМЕТРИЯ И СОВРЕМЕННЫЕ ПОДХОДЫ К ЛАНДШАФТНОМУ СИНТЕЗУ</h1>

	<h2 id="heading1">11. МОРФОМЕТРИЧЕСКИЕ ПОКАЗАТЕЛИ ЗЕМНОЙ ПОВЕРХНОСТИ</h2>

	<h3 id="h3_1">11.1. Морфометрические переменные и элементарные поверхности</h3>
	

<p><span class="bolditalic">Морфометрической характеристикой (параметром, показателем) считается однозначная функция двух переменных, описывающая свойства топографической поверхности</span>. Фундаментальные морфометрические величины связаны с понятиями дифференциальной геометрии и теории "рельеф-поля" <a href="BIBLIO.html#Lastochkin_1987">[Ласточкин, 1987]</a> а также теории топографической поверхности <a href="BIBLIO.html#Shary_Stepan_1991">[Шарый, Степанов, 1991]</a>.</p>

<p>Морфометрические характеристики рассчитываются в разных геоинформационных системах с помощью различных инструментов (утилит, скриптов), а также вне ГИС с использованием различных языков программирования (например - <span class="blackbold">Python</span>) и отдельных пакетов статистического программного обеспечения (<span class="blackbold">R</span>, <span class="blackbold">Statistic</span> и др.).</p>

<p>В настоящее время на основе <span class="monospace">Цифровых Моделей Рельефа</span> рассчитывается и используются для решения разных задач более 100 геоморфометрических ("морфометрических" - в традиции российской геоморфологии) характеристик. Классификация морфометрических характеристик давно уже превратилась в самостоятельную научную задачу, которую можно решать с различных позиций - чисто математических, топогеодезических, геоморфологических <a href="BIBLIO.html#Watkins_2015">[Watkins, 2015]</a>, <a href="BIBLIO.html#Wilson_2018">[Wilson, 2018].</a>.

<p>Различают <span class="bolditalic">первичные</span> и <span class="bolditalic">вторичные</span> параметры земной поверхности. <span class="bolditalic">Первичные параметры</span> земной поверхности (их называют еще <span class="bolditalic">локальными</span>) извлекаются непосредственно из грида <span class="monospace">ЦМР</span> без каких-либо дополнительных данных и представлений об «окрестностях».  <span class="bolditalic">Вторичные параметры</span> вычисляют на основе значений их окружения, отсюда их другое название  - <span class="bolditalic">региональные</span> <a href="BIBLIO.html#Florinsky_2009">[Florinsky, 2009]</a>,  <a href="BIBLIO.html#Olaya_2009">[Olaya, 2009]</a>.  К этим двум группам <b>И.В.Флоринский</b> предложил выделять отдельно еще <span class="bolditalic">солярные характеристики</span> (отражательная способность поверхности, "отмывка" рельефа и инсоляция) и <span class="bolditalic">комбинированные показатели</span>, к которым относятся различные индексы, рассчитываемые на основе первых трех групп <a href="BIBLIO.html#Florinsky_2016">[Флоринский, 2016]</a>.</p>

<p>Несмотря на различия в подходах в первом приближении вся совокупность морфометрических показателей (метрик) может быть упорядочена в виде семи отдельных групп <a href="#Табл. 11.1">(Таблица 11.1)</a>. Мы приводим англоязычные названия намеренно, поскольку они соответствуют наименованиям инструментов, используемым в современных ГИС-инструментах для расчета соответствующих параметров.</p>

<div class="table">
	<table id="customers">
      <table border="1">

<br><span class="imgtitle"><a id="Табл. 11.1">Таблица 11.1</a> Основные группы морфометрических показателей</span>
<tr>
	<th>№</th>
	<th>Наименование групп и <br>отдельных характеристик</th>
	<th>Назначение и содержание характеристик</th>
</tr>
<tr>
	<th><b>1</b></th>
	<th><b>Elevation and area</b></th>
	<th><b>Группа абсолютной высоты</b></th>
</tr>
<tr>
	<td>1.1</td>
	<td>Elevation</td>
	<td>Абсолютная высота или высота над уровнем моря: базовая характеристика</td>
</tr>
<tr>
	<td>1.2</td>
	<td>Surface area</td>
	<td>Размер ячейки грида, отображает горизонтальное разрешение грида высот</td>
</tr>
<tr>
	<th><b>2</b></th>
	<th><b>Elevation residuals</b></th>
	<th><b>Группа относительных дифферентов высоты</b></th>
</tr>
<tr>
	<td>2.1</td>
	<td>Mean elevation</td>
	<td>Средняя высота в пределах "окна" определенного размера</td>
</tr>
<tr>
	<td>2.2</td>
	<td>Standard deviation of elevation</td>
	<td>Стандартное отклонение высот в пределах "окна" определенного размера</td>
</tr>
<tr>
	<td>2.3</td>
	<td>Elevation range</td>
	<td>Диапазон или "размах" высот (разница между минимальным и максимальным значением) в пределах "окна" определенного размера</td>
</tr>
<tr>
	<th><b>3</b></th>
	<th><b>Form and Flow attribute</b></th>
	<th><b>Группа атрибутов формы и потоков</b></th>
</tr>
<tr>
	<td>3.1</td>
	<td>Slope, slope gradient</td>
	<td>Крутизна склона (уклон): угол между горизонтальной и тангенциальной плоскостями в данной точке топографической поверхности
	</td>
</tr>
<tr>
	<td>3.2</td>
	<td>Aspect, slope aspect</td>
	<td>Экспозиция склонов: угол, отсчитываемый по часовой стрелке, между направлением на Север и проекцией внешней нормали на горизонтальную плоскость в данной точке поверхности	</td>
	</tr>
<tr>
	<td>3.3</td>
	<td>Plane curvature</td>
	<td>Плановая кривизна — кривизна линии горизонтали в данной точке топографической поверхности; дифференцирует склоновые поверхности на выступы- "мысы" (или рассеивающие фрагменты) и «заливы» (концентрирующие фрагменты) </td>
	</tr>
<tr>
	<td>3.4</td>
	<td>Profile curvature</td>
	<td>Профильная кривизна, дифференцирует склоновые поверхности на выпуклые, вогнутые и прямые фрагменты</td>
	</tr>
<tr>
	<td>3.5</td>
	<td>Tangential curvature</td>
	<td>Тангенциальная или горизонтальная кривизна - произведение плановой кривизны на крутизну склона</td>
	</tr>
<tr>
	<td>3.6</td>
	<td>Mean curvature</td>
	<td>Средняя кривизна, дифференцирует склон на сужающиеся и расширяющиеся участки</td>
	</tr>
<tr>
	<td>3.7</td>
	<td>Gaussian curvature</td>
	<td>Гауссова кривизна фиксирует перекос склона и отражает изменение расстояние между горизонталями при движении вдоль склона</td>
	</tr>
<tr>
	<th><b>4</b></th>
	<th><b>Slope flow direction and accumulation</b></th>
	<th><b>Группа направления и аккумуляции стока</b></th>
	</tr>
	<tr>
	<th>4.1</th>
	<th>Flow direction </th>
	<th>Направление стока</th>
	</tr>
	<tr>
	<td>4.2</td>
	<td>Flow accumulation (Upslope contributing area)</td>
	<td>Площадь ареала, с которого собирается сток в данной точке водосбора</td>
	</tr>
	<tr>
	<th><b>5</b></th>
	<th><b>Upslope parameters</b></th>
	<th><b>Параметры вышележащего склона</b></th>
	</tr>
	<tr>
	<td>5.1</td>
	<td>Average upslope slope</td>
	<td>Средний вышележащий уклон, обеспечивающий скорость перемещения по склону</td>
	</tr>
<tr>
	<td>5.2</b></td>
	<td>Average upslope elevation</td>
	<td>Средняя высота вышележащего склона, определяющая потенциальную энергию рельефа</td>
	</tr>
<tr>
	<th><b>6</b></th>
	<th><b>Downslope parameters</b></th>
	<th><b>Параметры нижележащего склона</b></th>
	</tr>
<tr>
	<td>6.1</td>
	<td>Mean slope of dispersal area</td>
	<td>Средний наклон зоны рассеивания</td>
	</tr>
<tr>
	<td>6.2</td>
	<td>Elevation relative to channels and pits (Height above nearest depression and channel)</td>
	<td>Высота над уровнем ближайшего водотока и\или депрессии</td>
	</tr>
<tr>
	<td>6.3</td>
	<td>Height above river</td>
	<td>Высота над уровнем ближайшей реки</td>
	</tr>
<tr>
	<td>6.4</td>
	<td>Hill Height</td>
	<td>Относительная высота над подножьем склона</td>
	</tr>
<tr>
	<td>6.5</td>
	<td>Valley Depth</td>
	<td>Глубина заложения долин</td>
	</tr>
<tr>
	<th><b>7</b></th>
	<th><b>Visibility and visual exposure</b></th>
	<th><b>Видимость и открытость</b></th>
	</tr>
<tr>
	<td>7.1</td>
	<td>Viewshed</td>
	<td>Визуальный бассейн, или визуальный "конверт" - ареал, который может быть наблюдаем с данной точки с учетом ограничений, создаваемых рельефом местности</td>
	</tr>
<tr>
	<td>7.2</td>
	<td>Visibility index</td>
	<td>Индекс видимости – число визуальных бассейнов, наблюдаемых из данной точки</td>
	</tr>
<tr>
	<td>7.3</td>
	<td>Openness</td>
	<td>Открытость – максимальный угловой сектор видимого пространства из данной точки в пределах определенной пользователем дистанции</td>
	</tr>

</table>
<br>

<p><span class="bolditalic">Морфометрические переменные определяют свойства и локализацию элементарных поверхностей (ЭП) рельефа, при этом границы ЭП конфигурируются предельными значениями переменных в окрестностях критических точек рельефа и вдоль так называемых характеристических линий рельефа</span> <a href="BIBLIO.html#Lastochkin_1987">[Ласточкин, 1987]</a>. К <span class="bolditalic">критическим точкам</span> относятся точки максимумов - вершин (вокруг которых формируются привершинные ЭП) и точки минимумов - низин (ЭП депрессий и котловин). К <span class="bolditalic">характеристическим линиям</span> относятся <span class="bolditalic">линии выпуклого (уступы) перегиба</span> и <span class="bolditalic">вогнутого (подножья) перегиба</span>, <span class="bolditalic">гребневые линии </span>(хребты и гребни гор) и <span class="bolditalic">килевые линии</span> (тальвеги долинно-речной и ложбинно-лощинной сети).

<p>Смежные ЭП формируют <span class="bolditalic">элементарные формы рельефа</span>, которые таким образом, можно определить как <span class="bolditalic">комбинации или сочетания элементарных поверхностей</span>. В разных дисциплинах возникли и закрепились разные термины для элементарных форм рельефа: в геоморфологии - <span class="bolditalic">мезоформы|landforms</span>, в геоморфометрии - <span class="bolditalic">геоморфоны|geomorphons</span>, в ландшафтоведении - <span class="bolditalic">ландшафтные местоположения|landscape site</span> или <span class="bolditalic">геотопы</span> <a href="BIBLIO.html#Lastochkin_1987">[Ласточкин, 1987</a>; <a href="BIBLIO.html#Колбовский_2006">Колбовский, 2006]</a>.</p>


<p>Моделирование (выявление, локализация и параметризация) элементарных форм - одна из задач современной <span class="bolditalic">геоморфометрии</span>, как <span class="bolditalic">научной дисциплины возникшей на стыке геоморфологии, геопространственного анализа, топологии и геоинформационного моделирования</span>. Элементарные поверхности и мезоформы не просто определяют "пластику рельефа", но и оказывают решающее воздействие на все основные процессы, контролирующие функционирование ландшафтов и экосистем, определяя прежде всего взаимодействие гравитационного поля с поверхностью земли. Сила тяжести вызывает перемещение чехла рыхлых отложений, движение поверхностных и подземных вод; в свою очередь, эти процессы изменяют формы поверхности.</p> 

<p><span class="bolditalic">Элементарные поверхности генерируют два типа неравномерности перемещения вещественных и энергетических потоков: первый тип связан с ускорением на вогнутых и замедлением на выпуклых участках склонов, второй - отвечает за рассеивание (дивергенцию) и концентрацию (конвергенцию)</span>. Оба этих свойства <a href="#plan_profileshary">(Рис. 11.1)</a> непосредственно связаны с параметрами <span class="bolditalic">кривизны земной поверхности</span>.</p>

<a id="plan_profileshary"><img src="Pict_3_11/plan_profileshary.png" width="50%" height="relative"></a>
<br><span class="imgtitle">Рис. 11.1 Слева - соответствие формы горизонталей (изолиний высот) типам плановой и профильной кривизны земной поверхности:  "заливы" и "выступы" горизонталей маркируют зоны рассеивания и аккумуляции потоков; справа - чередование выпуклых и вогнутых участков склона определяют ускорение и замедление перемещения вещественно-энергетических потоков  вниз по склону; цифрами обозначены: 1 – области дивергенции, 2 – области конвергенции (источник - <a href="BIBLIO.html Shary_1991">[Шарый, 1991]</a>)</p>

<p><span class="bolditalic">Основные свойства ЭП исчерпывающим образом могут быть описаны с использованием морфометрических параметров третьей группы <a href="#Таблица 11.1">(Таблица 11.1)</a>: уклона (крутизны) поверхности, различных видов кривизны и (в специфических случаях) экспозиции</span>. При этом уклон и экспозицию можно считать неформообразующими параметрами, ибо они определяют интенсивность (выраженность) процессов, но при этом не оказывают непосредственного воздействия на форму (локальную топологию поверхности).</p>

<p>В первоначальной классификации элементарных поверхностей, разработанной <b>Р. Дикау</b> <a href="BIBLIO.html#Dikau_1989">[Dikau, 1989]</a>, использовались плановая и профильная (поперечная) кривизна; однако российские исследователи <b>П.Шарый</b> и <b>И.Степанов</b> <a href="BIBLIO.html#Shary_Stepan_1991">[Шарый, Степанов, 1991]</a>  предложили заменить плановую кривизну на тангенциальную и добавили еще четыре вида кривизн, что позволило создать наглядную и приближенную к реальности матрицу склоновых ЭП <a href="#sixcurvature">(Рис. 11.2)</a>. В таком виде классификация ЭП отражает очень важное свойство природных (а не абстрактных) склонов, которое топографы-съемщики называли "косыми" (поскольку это качество сильно затрудняет полевые съемки рельефа).</p>

<a id="sixcurvature"><img src="Pict_3_11/sixcurvature.png" width="80%" height="relative"></a>
<br><span class="imgtitle">Рис. 11.2 Двенадцать типов склоновых ЭП, выделенных на основе шести параметров кривизны, фиксирующих следующие свойства: Profile (поперечная или профильная) свойство выпуклости-вогнутости, Tangential (горизонтальная)  концентрация–рассеивание, Mean (средняя) сужение-расширение вниз по склону, Gaussian (Гауссова) перекос оси по горизонтали, Total (общая) перекос оси по вертикали, Difference (разностная) смещение горизонтальной оси в верхнюю или нижнюю часть склона (источник - <a href="BIBLIO.html Shary_et_al._2005">[Shary et al., 2005]</a>).</p>

<p><b>Р. Дикау</b> <a href="BIBLIO.html#Dikau_1989">[Dikau, 1989]</a></a> также предложил общую классификацию всех <span class="bolditalic">элементарных форм рельефа</span>, включая  склоновые ЭП, привершинные ЭП, ЭП замкнутые депрессии и ЭП-седловины на основе тангенциальной, профильной, минимальной и максимальной кривизн <a href="#dicay_class">(Рис. 11.3</a>, <a href="#Таблица 11.2">Таблица 11.2)</a>.</p>

<div class="script_01">
<figure>
<a id="dicay_class"><img src="Pict_3_11/dicay_classsurf.png"width="97%" height="relative"></a>
</figure>
<figure>
<a id="dicay_class"><img src="Pict_3_11/dicay_classslope.png" width="97%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.3  Классификация плоскостных  (a) и склоновых (b) ЭП на основе кривизн; интерпретация в табл. 11.2 </span></p>



<br><span class="imgtitle"><a id="Таблица 11.2">Таблица 11.2 </a>Классы элементарных поверхностей</span>

<div class="table">
	<table id="customers">
      <table border="1">

<tr style="text-align:center">
	<th>Индекс<br>Рис. 11.3</th>
	<th>Наименование</th>
	<th>класс ЭП</th>
	<th>Значение</th>
	<th>Форма</th>
</tr>
<tr>
	<td colspan="5" style="text-align:center";><b>Субгоризонтальные поверхности - дифференциация на основе maximum/minimum curvature</b></td></tr>
<tr style="text-align:center">
	<th>XX</th>
	<td>peak</td>
	<td>привершинная</td>
	<td> + / +</td>
	<td>выпукло-выпуклая</td>
</tr>
<tr style="text-align:center">
	<th>XS</th>
	<td>ridge</td>
	<td>пригребневая</td>
	<td> + / 0</td>
	<td>выпукло-прямая</td>
</tr>
<tr style="text-align:center">
	<th>XV</th>
	<td>saddle</td>
	<td>седловидная</td>
	<td> + / -</td>
	<td>выпукло-вогнутая</td>
</tr>
<tr style="text-align:center">
	<th>SS</th>
	<td>plain</td>
	<td>плоскость (плато)</td>
	<td> 0 / 0</td>
	<td>прямая-прямая</td>
</tr>
<tr style="text-align:center">
	<th>SV</th>
	<td>channel</td>
	<td>прикилевая</td>
	<td> 0 / 0</td>
	<td>прямая-вогнутая</td>
</tr>
<tr style="text-align:center">
	<th>VV</th>
	<td>pit</td>
	<td>прикотловинная</td>
	<td> - / -</td>
	<td>вогнуто-вогнутая</td>
</tr>
<tr>
	<td colspan="5"style="text-align:center";><b>Условные склоновые поверхности - дифференциация на основе tangential/profile curvature</b></td></tr>
<tr style="text-align:center">
	<th>XX</th>
	<td>nose</td>
	<td>выпуклая контрфорсная</td>
	<td> + / +</td>
	<td>выпукло-выпуклая</td>
</tr>
<tr style="text-align:center">
	<th>SX</th>
	<td>spur</td>
	<td>прямая контрфорсная</td>
	<td> + / 0</td>
	<td>выпукло-прямая</td>
</tr>
<tr style="text-align:center">
	<th>VX</th>
	<td>spur foot</td>
	<td>подножье контрфорса</td>
	<td> - / +</td>
	<td>вогнуто-выпуклая</td>
</tr>
<tr style="text-align:center">
	<th>XS</th>
	<td>shoulder slope</td>
	<td>уступ (плечо)</td>
	<td> 0 / +</td>
	<td>прямая-выпуклая</td>
</tr>
<tr style="text-align:center">
	<th>SS</th>
	<td>planar slope</td>
	<td>прямой склон</td>
	<td> 0 / 0</td>
	<td>прямая-прямой</td>
</tr>
<tr style="text-align:center">
	<th>VS</th>
	<td>foot slope</td>
	<td>подножье склона</td>
	<td> 0 / -</td>
	<td>прямая-вогнутая</td>
</tr>
<tr style="text-align:center">
	<th>XV</th>
	<td>holow shoulder</td>
	<td>тыловой (верхней) склон ложбины</td>
	<td> - / +</td>
	<td>вогнуто-выпуклая</td>
</tr>
<tr style="text-align:center">
	<th>SV</th>
	<td>holow </td>
	<td>приложбинная</td>
	<td> - / 0</td>
	<td>вогнуто-прямой</td>
</tr>
<tr style="text-align:center">
	<th>VV</th>
	<td>holow foot</td>
	<td>приложбинная устьевая</td>
	<td> - / -</td>
	<td>вогнуто-вогнутая</td>
</tr>
</table>

<p>Следует понимать, что выделенные элементарные поверхности - прежде всего топологические сущности не эквивалентные геоморфологическим формам рельефа как таковым. В современной геоморфометрии пока не решена задача, сформулированная российским геоморфологом <b>А.Н. Ласточкиным</b> <a href="BIBLIO.html#Lastochkin_2011">[Ласточкин, 2011]</a> - делимитации элементарных поверхностей и соответствующих элементарных форм рельефа с учетом их соседства в реальном трехмерном пространстве, что позволяло бы отличать, к примеру, выступ привершинного плато от выступа речной террасы, но подобная дифференциация предполагает дальнейшую разработку более сложных методов моделирования.</p>

<br>


<h3 id="h3_2">11.2. Переменные группы формы и потоков</h3>


<p>Метрики группы <span class="bolditalic">первичных параметров склона</span> вычисляются в ГИС с помощью различных инструментов, но, как правило, посредством перемещения квадратного окна размером 3×3 ячейки грида и расчета первых производных топографической поверхности. На протяжении последних двух десятилетий было предложено несколько способов получения первичных производных, и наиболее популярными являются алгоритмы, реализованные соответственно в <span class="blue">SAGA GIS</span> <a href="BIBLIO.html#Evans_1980">[Evans, 1980]</a> и <span class="red">ArcMAP10.x</span> <a href="BIBLIO.html#Zevenbergen_Thorne_1987">[Zevenbergen, Thorne, 1987]</a>.</p>

<p><span class="bolditalic">Уклон поверхности</span> или <span class="bolditalic">крутизна склона|slope gradient</span>  —  <span class="bolditalic">это угол между горизонтальной и тангенциальной плоскостями в данной точке топографической поверхности</span>  <a href="BIBLIO.html#Shary_Stepan_1991">[Шарый, 1991]</a>; является неотрицательной величиной, изменяющейся в диапазоне от <span class="greencursiv">0 до 90</span> (если единица измерения — градус), от <span class="greencursiv">0 до 1</span> (радиан) и от <span class="greencursiv">0 до 100</span> (проценты). <span class="bolditalic">Уклон поверхности определяет потенциальную энергию рельефа и интенсивность протекания всех процессов экзогенной геодинамики</span>, и прежде всего, склоновых процессов –  медленного перемещения чехла рыхлого материала ("вековой крип"), оползней различного типа, осыпей, обвалов и камнепадов.</p>

<p>В <span class="blue">SAGA GIS</span> инструменты геоморфометрического анализа расположены в группе <span class="blackbold">Terrain Analysis</span>, параметры склона -  в наборе <span class="blackbold">Morphometry</span>. Параметр уклона может быть рассчитан с помощью инструмента <span class="blackbold">Slope, Aspect, Curvature</span> или инструмента <span class="blackbold">Morphometric Features</span>; оба инструмента позволяют получать одновременно и целый ряд других характеристик. Для расчета переменных группы формы и потоков целесообразно использовать именно <span class="blackbold">Slope, Aspect, Curvature</span>, (<span class="cursive">O.Conrad, 2001</span>) поскольку данный алгоритм предоставляет возможность выбора единиц измерения (градусы, радианы, проценты), и способы расчета (в <span class="blue">SAGA GIS</span> предлагается девять разных формул на выбор пользователя).</p>

<a id="slopesagatool"><img src="Pict_3_11/slopesagatool.png" width="50%" height="relative"></a>
<br><span class="imgtitle">Рис. 11.4 Диалоговое окно инструмента Slope, Aspect, Curvature группы Terrain Analysis SAGA</span></p>

<p>Для просмотра результата в окне <span class="monospace">Map</span> <span class="blue">SAGA GIS</span> целесообразно использовать слой теневой отмывки <span class="backgreencursiv">Shadow</span>, что придает изображению эффект объемности.</p>

<div class="script_01">
<figure>
<a id="slopeevansaga_F_"><img src="Pict_3_11/slopeevansaga_F_.png" width="500" height="relative"></a>
</figure>
<figure align=right>
<a id="slopeevansagaL"><img src="Pict_3_11/slopeevansagaL_2d.png" width="20%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.5 Уклон поверхности (Приэльбрусье, фрагмент), построенный по алгоритму Эванса в SAGA</span></p>

<p>Показатель <span class="monospace">Уклон поверхности|Slope gradient</span>  <a href="#slopeevansaga_F_">(Рис. 11.5)</a>в пределах горных территорий позволяет дифференцировать <span class="bolditalic">плоские ЭП</span> (предгорные равнины, плато и днища межгорных котловин, поймы рек) и <span class="bolditalic">склоновые ЭП</span> (склоны и фасы склонов различной крутизны). Хорошо вычленяются также <span class="bolditalic">пригребневые ЭП</span>: главные хребты (5) гребни боковых хребтов (7) и отходящие от них контрфорсы склонов, переходящие книзу в расширяющиеся  "утюги" и далее в круто-выпуклые подножья (10). На дне ущелий выделяются излучины русел (2) и фрагменты площадок скелетных пойм (1). Ясно дифференцируются вогнутые полуцирки склонов (6) межгорных котловин (4). Выделяются крутые скальные стенки верхних частей склонов  (8), желоба межсклоновых распадков (9), высоко поднятые платообразные участки (3).</p>

<p><span class="monospace">Экспозиция склона|slope aspect </span> — <span class="bolditalic">угол, отсчитываемый по часовой стрелке между направлением на север и проекцией внешней нормали на горизонтальную плоскость в данной точке поверхности</span> <a href="BIBLIO.html#Shary_et_al._2002">[Shary et al., 2002]</a>. Экспозиция – важнейший фактор ландшафтной дифференциации в пределах эрозионно-расчлененных равнин, всхолмленных возвышенностей и горных регионов, определяющий разделение на «теплые» и «холодные», а в условиях выраженного направления переноса воздушных масс - на увлажняемые и относительно сухие склоны.</p>

<p>В <span class="blue">SAGA GIS</span> экспозиция рассчитывается уже знакомым нам инструментом <span class="blackbold">Slope, Aspect, Curvature</span>. Результат "выдается" в двухцветной шкале-растяжке с переходами оттенков от "холодного" серо-голубого (северные экспозиции) до "теплых" оттенков алого (южные экспозиции). Для получения конкретных румбов (30, 45 или 60 градусов) в <span class="blue">SAGA GIS</span> необходимо провести классификацию растра по соответствующим интервалам. Тем не менее, и такое оформление позволяет визуализировать пластику рельефа, выделяя мельчайшие детали склонов (фасы, отдельные скальные стенки), а также - локальной эрозионной сети (ущелья, желоба, распадки, висячие боковые долины). Четко выделяется вся "фрактальная" сеть пригребневых элементов - от главных водораздельных хребтов до гребней и контрфорсов. По растру экспозиции <a href="#aspectevans">(Рис. 11.6)</a> в <span class="blue">SAGA GIS</span> можно также судить о форме склонов (выпуклые, вогнутые, рассеивающие и концентрирующие).</p>


<div class="script_01">
<figure>
<a id="aspectevans"><img src="Pict_3_11/aspectevans.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="aspectevansL"><img src="Pict_3_11/aspectevansL.png" width="17%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.6 Экспозиция поверхности (Приэльбрусье, фрагмент), построенная по алгоритму Эванса в SAGA</span></p>

<p><span class="red">ArcMAP10.x</span> предлагает инструмент <span class="blackbold">Aspect</span>, позволяющий получить классифицированный на 10 таксонов растр экспозиции с величиной румбов <span class="greencursiv">45<sup>o</sup></span>; один таксон - плоскость,  два "половинчатых" румба (<span class="greencursiv">22,5<sup>o</sup></span>) принадлежат направлению на север; всего, таким  образом, восемь значащих румбов <a href="#aspectevans">(Рис. 11.7)</a>.</p>

<div class="script_01">
<figure>
<a id="aspectevans"><img src="Pict_3_11/aspectarc.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="aspectevansL"><img src="Pict_3_11/aspectarcL.png" width="40%"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.7 Экспозиция («аспект») поверхности – растр, созданный в ArcMAP 10.5 с классификацией на 8 румбов и плоскость (flat)</span></p>

<p>Моделирование показателей <span class="bolditalic">кривизны поверхности</span>. Инструмент <span class="blackbold">Slope, Aspect, Curvature</span> <span class="blue">SAGA GIS</span> позволяет за один "прогон" получать различные виды (всего 10) кривизны: <span class="monospace">General, Profile, Plan, Tangential, Longitudinal, Cross-Sectional, Minimal, Maximal, Total, Flow Line</span>. Как правило, параметры кривизны используются для последующего моделирования в алгоритмах сегментации рельефа, а также для получения показателей почвенных и климатических моделей. Без определенного опыта достаточно сложно воспринимать результаты построения метрик кривизны в современных ГИС-пакетах, визуализация с теневой отмывкой (слой <span class="backgreencursiv">Shadow</span>, или <span class="backgreencursiv">Hillshade</span>) значительно облегает интерпретацию.</p>

<p><span class="monospace">Profile curvature|Профильная кривизна</span> <span class="bolditalic">дифференцируют выпуклые и вогнутые ЭП</span>. Отрицательные значения профильной кривизны <a href="#profilecurv">(Рис. 11.8)</a> маркируют вогнутые участки склонов, близкие к нулю – почти прямые фрагменты, а положительные значения – выпуклые участки. Вся картина распределения в совокупности неплохо отражает прикилевые элементарные поверхности (лощины, ущелья и распадки, желоба и кулуары) и противоположные им пригребневые (хребты, контрфорсы); промежуточное положение занимают плоскости более-менее прямых скальных стенок и контрфорсов. Таким образом, профильная кривизна может быть использована для выявления гребне-килевой дифференциации ландшафтных местоположений.</p>

<div class="script_01">
<figure>
<a id="profilecurv"><img src="Pict_3_11/profilecurv.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="profcurv_L"><img src="Pict_3_11/profcurv_L.png" width="25%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.8 Профильная кривизна (Приэльбрусье, фрагмент) отрицательные значения – синий цвет, положительные – красный, близкие к нулю – серый</span></p>

<p><span class="monospace">Tangential curvature|Тангенциальная кривизна</span> <span class="bolditalic">определяет дифференциацию на рассеивающие и концентрирующие склоны <a href="#tangentialcurv">(Рис. 11.9)</a></span>. Рассеивающие склоны на топографических картах распознаются по выступам горизонталей, направленным вниз по склону, собирающие - по "заливам" горизонталей вытянутым вверх по склону. В традиционных мануальных методах <span class="bolditalic">пластики рельефа</span> по касательной к "заливам" горизонталей фиксировались элементы ложбинно-лощинной сети - так называемые <span class="bolditalic">морфоизографы</span> <a href="BIBLIO.html#Временная_1984">[Временная методика..., 1984;</a> <a href=""></a> <a href="BIBLIO.html#Shary_Stepan_1991">Шарый, Степанов, 1991;</a> <a href="BIBLIO.html#Колбовский_2006">Колбовский, 2006]</a>.</p>

<div class="script_01">
<figure>
<a id="tangentialcurv"><img src="Pict_3_11/tangentialcurv.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="tangentialcurvL"><img src="Pict_3_11/tangentialcurvL.png" width="25%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.9 Тангенциальная или горизонтальная кривизна (Приэльбрусье, фрагмент) отрицательные значения – синий цвет, положительные – красный, близкие к нулю – серый</span></p>

<p><span class="monospace">Maximal curvature|Максимальная кривизна</span> - параметр, положительные значения которого выделяют иерархию гребневых элементов - главных хребтов, контрфорсов, а также сеть мелких отрогов склонов, играющих роль локальных водоразделов <a href="#maximalcurv">(Рис. 11.10)</a>. Отрицательные значения маркируют вогнутые фасы склонов, депрессии, значения близкие к нулю фиксируют отдельные фрагменты плоскостных форм - террас, днищ долин.</p>

<div class="script_01">
<figure>
<a id="maximalcurv"><img src="Pict_3_11/maximalcurv.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="maximalcurvL"><img src="Pict_3_11/maximalcurvL.png" width="25%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.10 Максимальная кривизна (Приэльбрусье, фрагмент) отрицательные значения – синий цвет, положительные – красный, близкие к нулю – серый</span></p>

<p><span class="monospace">Minimal curvature|Минимальная кривизна</span> <a href="#minimalcurv">Рис. 11.11</a> дифференцируют комплиментарную к максимальной систему ЭП - от крупных слабовыпуклых привершинных ЭП до мелких вогнутых и выпуклых фасет склонов. Кроме того, <span class="monospace"> Минимальная кривизна</span> при отрицательных значениях выделяет тальвеги склонов, желоба и распадки, а также тыловые швы днищ крупных долин; положительные значения минимальной кривизны свойственны наклонным и плоским ЭП.</p>

<div class="script_01">
<figure>
<a id="minimalcurv"><img src="Pict_3_11/minimalcurv.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="minimalcurvL"><img src="Pict_3_11/minimalcurvL.png" width="25%" height="relative"></a>	
</figure>
</div>

<br><span class="imgtitle">Рис. 11.11 Минимальная кривизна (Приэльбрусье, фрагмент) отрицательные значения – синий цвет, положительные – красный, близкие к нулю – серый</span></p>
<br>


<h3 id="h3_3">11.3. Переменные относительного положения на склоне</h3>
	
<p><span class="bolditalic">К переменным относительного положения на склоне относятся переменные, отражающие параметры выше- и нижележащего склона (Upslope Downslope parameters)</span>. Наиболее часто используемые на практике показатели рассчитываются инструментом <span class="blackbold">Relative Heights and Slope Positions|Относительная Высота и Позиция на Склоне</span> <a href="#relativeslope">(Рис. 11.12)</a> набора <span class="blackbold">Morphometry</span> группы <span class="blackbold">Terrain Analysis</span> <span class="blue">SAGA GIS</span>.</p>

<a id="relativeslope"><img src="Pict_3_11/relativeslopepositiontool.png" width="50%" height="relative"></a>
<br><span class="imgtitle">Рис. 11.12 -  Диалоговое окно инструмента Relative Heights and Slope Positions группы Terrain Analysis SAGA</span></p>

<p>Результатом работы инструмента <span class="blackbold">Relative Heights and Slope Positions</span> являются пять выходных растров. Два из них  <span class="monospace">Normalized Height|Нормализованная Высота</span> и <span class="monospace">Standardized Height|Стандартизированная Высота</span> представляют собой обработку грида высот ЦМР с получением нормализованного и стандартизированного значений - преобразование, часто используемое для операций комбинирования данных, взвешенного и нечеткого наложение, а также в качестве подготовительных процедур для таких алгоритмов, как <span class="blackbold">k-ближайших соседей|k-nearest neighbour</span>, которые используют вычисления расстояний, анализа  линейной регрессии и искусственных нейронных сетей.</p>

<p><span class="bolditalic">Нормализация - это изменение масштаба данных из исходного диапазона таким образом, чтобы все значения находились в диапазоне от <span class="greencursiv">0 до 1</span></span>. Нормализованная высота <a href="#normalizheght">(Рис. 11.13)</a> прекрасно визуализирует гребне-килевую дифференциацию рельефа, четко прорисовывая русла гидрографической сети и элементы эрозионной ложбинно-лощинной сети, а также комплементарную к ним систему хребтов, гребней и контрфорсов склонов. Можно видеть также строение стратовулкана Эльбрус с округлой кальдерой, контрфорсами склонов и разделяющими их распадками.</p>

<div class="script_01">
<figure>
<a id="normalizheght"><img src="Pict_3_11/normalizheght.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="normalizheghtL"><img src="Pict_3_11/normalizedheightL.png" width="25%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.13 Нормализованная высота (Приэльбрусье, фрагмент) </span></p>

<p><span class="bolditalic">Стандартизация поля высот ЦМР предполагает изменение масштаба распределения значений таким образом, чтобы среднее значение наблюдаемых значений было <span class="greencursiv">0</span>, а стандартное отклонение - <span class="greencursiv">1</span></span>. Следует иметь ввиду, что стандартизация предполагает, что множество значений соответствуют гауссовскому распределению ("кривая колокола"), условие редко выполняющееся для "рельеф-поля". Поэтому <span class="monospace">Standardized Height</span> несколько искажает картину  <a href="#standartheight">(Рис. 11.14)</a>, что особенно заметно при сравнении с <span class="monospace">Normalized Height</span>.</p>

<div class="script_01">
<figure>
<a id="standartheight"><img src="Pict_3_11/standartheight.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="standartheighLt"><img src="Pict_3_11/standartheighLt.png" width="25%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.14 Cтандартизированная высота (Приэльбрусье, фрагмент) </span></p>

<p><span class="monospace">Slope Height|Относительная высота склона</span> - метрика, близкая к двум предыдущим,  позволяет определить относительное положение  склоне и может оказать полезной для анализа так называемых катен - последовательностей ландшафтных местоположений.</p>

<div class="script_01">
<figure>
<a id="slopeheight"><img src="Pict_3_11/slopeheight.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="slopeheightL.png"><img src="Pict_3_11/slopeheightL.png" width="20%" height="relative"></a>	
</figure>	
</div>
<br><span class="imgtitle">Рис. 11.15 Относительная высота склона (Приэльбрусье, фрагмент) </span></p>

<p>Самостоятельный интерес представляет параметр <span class="monospace">Valley Depth|Глубина долин</span>, который может быть использован для выделения речных долин (отдельная и непростая задача), а также для специальных видов моделирования, связанных с прогнозом паводков, подтоплений и т.д. <a href="#valleydepth">(Рис. 11.16).</a></p>

<div class="script_01">
<figure>
<a id="valleydepth"><img src="Pict_3_11/valleydepth.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="valleydepthL"><img src="Pict_3_11/valleydepthL.png" width="20%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.16  Глубина долин  (Приэльбрусье, фрагмент) </span></p>
<br>


<h3 id="h3_4">11.4. Сложные переменные разных групп</h3>


<p><span class="monospace">Convergence|Конвергенция</span> - параметр вычисляющий индекс конвергенции / дивергенции поверхности относительно потенциального поверхностного стока. По своему содержанию он похож на плановую или горизонтальную кривизну, но дает более точное представление о концентрации и рассеивании (см. например, фигуры ЭП 1,7 - собирающие и 6,12 - рассеивающие на <a href="#sixcurvature">рис. 11.2</a>). Рассчитывается инструментом <span class="blackbold">Convergence Index</span> набора <span class="blackbold">Morhpometry</span> группы <span class="blackbold">Terrain Analysis</span>.</p> 

<p>Существует два варианта расчета индекса конвергенции. – по  уклону (градиенту) и по экспозиции (аспекту), при этом в обоих случаях используются значения окрестных ячеек для определения того в каком направлении ЭП перенаправляют сток. Среди опций также размер окна <span class="cursive">Gradient calculation</span> (<span class="greencursiv">2*2 или 3*3</span>). Результат выдается в процентах, отрицательные значения соответствуют конвергентным, положительные - рассеивающим условиям формирования стока. Экстремальные величины:   <span class="greencursiv">+100%</span> вершина конуса, <span class="greencursiv">-100%</span> -"идеальная воронка", а <span class="greencursiv">0%</span> - ровный (прямой) склон. Индекс конвергенции полезен для анализа линеаментов, особенно представленных хребтами или системами русел, а также для распознавания долин <a href="#convergence">(Рис. 11.17)</a>.</p>

<div class="script_01">
<figure>
<a id="convergence"><img src="Pict_3_11/convergence.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="convergenceL"><img src="Pict_3_11/convergenceL.png" width="25%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.17 Convergence - конвергенция\дивергенция поверхности  (Приэльбрусье, фрагмент) </span></p>

<p><span class="monospace">Topographic Openness|Топографическая Открытость</span>  - еще один морфометрический показатель, характеризующий свойство видимости земной поверхности, т.е., отображающий возможность восприятия наблюдателем, расположенным в любой данной точке местности <a href=BIBLIO.html "#Yokoyama_2002">[Yokoyama et al.,2002]</a>. Моделирование выполняется инструментом <span class="blackbold">Topographic Openness</span> набора <span class="blackbold">Lighting, Visibility</span>  группы <span class="blackbold">Terrain Analysis</span> <a href="#visibilitytool">(Рис. 11.18)</a>.</p>
 
<a id="visibilitytool"><img src="Pict_3_11/visibilitytool.png" width="50%" height="relative"></a>
<br><span class="imgtitle">Рис. 11.18 -  Диалоговое окно инструмента Topographic Openness группы Terrain Analysis SAGA</span></p>

<p>Важная опция - метод, <span class="cursive">line trace</span> или <span class="cursive">multiscale</span>, а также выбор единиц (градусы и радианы). На выходе модели два растра: первый -  <span class="monospace">Топографическая открытость</span> <a href="#positiveopen">(Рис. 11.19)</a> дифференцирует поверхностность на потенциально видимые (положительное значение) и невидимые, замкнутые (отрицательное значение) местоположения. <span class="monospace">Negative Openness|Топографическая закрытость</span> имеет прямо противоположное значение. Оба параметра привлекаются для анализа эстетических свойств ландшафта, в частности - для дифференциации его на отдельные <span class="bolditalic">"визуальные бассейны" (viewsheds)</span>, и, кроме того, используются в более сложных алгоритмах автоматизированного распознавание мезоформ рельефа (landforms).</p>

<div class="script_01">
<figure>
<a id="positiveopen"><img src="Pict_3_11/positiveopen.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="positiveopenL"><img src="Pict_3_11/positiveopenL.png" width="25%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.19 Топографическая открытость (положительная видимость) поверхности  (Приэльбрусье, фрагмент) </span></p>

<div class="script_01">
<figure>
<a id="negativeopen"><img src="Pict_3_11/negativeopen.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="negativeopenL"><img src="Pict_3_11/negativeopenL.png" width="25%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.20 Топографическая закрытость (отрицательная видимость) поверхности  (Приэльбрусье, фрагмент) </span></p>

<p><span class="monospace">Topographic Position Index|Индекс топографической позиции</span> -  переменная второго порядка <a href="BIBLIO.html#Guisan1999">[Guisan, 1999]</a>, позволяющая различать местоположения вдоль профиля склонов: от привершинных (пригребневых) элементарных поверхностей до подножий склонов и прикилевых элементов эрозионной сети.</p>

<a id="tpitool"><img src="Pict_3_11/tpitool.png" width="50%" height="relative"></a>
<br><span class="imgtitle">Рис. 11.21 Диалоговое окно инструмента Topographic Position Index группы Terrain Analysis SAGA</span></p>

<p><span class="monospace">Индекс топографической позиции (TPI)</span> сравнивает высоту каждой ячейки ЦМР со средней высотой заданной окрестности вокруг этой ячейки. Значение TPI может быть рассчитано с помощью калькулятора растра в любой ГИС.</p>

<div class="script">
	
1. Создаем минимальный растр высот используя инструмент Фокальной статистики: Spatial Analyst Tools >> Neighborhood >> Focal Statistics<br>
input = DEM, output = minDEM, Rectangle, 10×10 cells, Min, check box for Ignore NoData”.<br>
2. Создаем максимальный растр высот<br> 
input = DEM, output = maxDEM, Rectangle, 10×10 cells, Max, check box for Ignore NoData”.<br>
3. Создаем усредненный (сглаженный) растр высот<br>
input = DEM, output = 10×10, Rectangle, 10×10 cells, Mean, check box for Ignore NoData”.<br>
4. В калькуляторе растра набираем формулу  <br>
(10×10 – minDEM / (maxDEM – minDEM)<br>
10×10 = сглаженный (или mean) растр<br>
minDEM = растр минимальных значений<br>
maxDEM = растр максимальных значений<br>
Выходной растр будет содержать значения от 0 до 1 и обычно классифицируется на 5 таксонов 5-классной (красный, бледно-красный, белый, бледно-голубой, темно-синий), либо в 3-классной (красный, белый, черный) цветовой схеме. Будут работать естественные границы или пользовательские значения (0.45, 0.55 и 1.00)

</div>


<p>В <span class="blue">SAGA GIS</span> Инструмент <span class="blackbold">Topographic Position Index</span> принадлежит набору  <span class="blackbold">Morhpometry</span> группы <span class="blackbold">Terrain Analysis</span>. Критические опция - <span class="cursive">Scale </span>контролирует размер окрестности в пикселях ЦМР; при увеличении размера окна индекс дифференцирует более крупные формы рельефа: сравните результат с размером окрестностей 100 <a href="#tpi100">(Рис. 11.22)</a> и 1000 <a href="#tpi1000">(Рис. 11.23)</a> пикселей.</p>

<div class="script">
	<span class="bolditalic">Input</span> <br>
Grid System: ...<br>
Elevation: DEM<br>
Topographic Position Index: create<br>
<span class="bolditalic">Options</span><br>
Standardize: leave blank <br>
Scale: 0, R* (R - это ключевая опция скрипта, так называемая "ширина окна"" определяющая относительно какого количества ближайших ячеек ведется расчет для центральной ячейки; чем меньше окно - тем более тонкие структуры будут выявляться и наоборот; конкретный результат зависит и от размера пикселя DEM)<br>

Weighting function: default (no distance weighting)<br>

</div>

<div class="script_01">
<figure>
<a id="tpi100"><img src="Pict_3_11/tpi100.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="tpi100L"><img src="Pict_3_11/tpi100L.png"  width="30%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.22 Topographic Position Index- Индекс топографической позиции, Scale=0,100  (Приэльбрусье, фрагмент) </span></p>

<div class="script_01">
<figure>
<a id="tpi1000"><img src="Pict_3_11/tpi1000.png" width="500"  height="relative"></a>
</figure>
<figure align=right>
<a id="tpi1000L"><img src="Pict_3_11/tpi1000L.png" width="17%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.23 Topographic Position Index- Индекс топографической позиции, Scale=100,1000  (Приэльбрусье, фрагмент) </span></p>

<p>Положительные значения <span class="monospace">TPI</span> представляют местоположения привершинных и пригребневых ЭП,  отрицательные значения TPI представляют места, которые находятся ниже, чем их окрестности - принизинные и прикилевые ЭП; близкие к нулю, являются либо плоскими областями (где наклон близок к нулю), либо областями постоянного наклона (где наклон точки значительно больше нуля).</p>

<p><b>A.Weiss</b>  <a href="BIBLIO.html#Weiss_2000">[Weiss,2000]</a> предположил, что значения <span class="monospace">TPI</span>, полученные для разных размеров «скользящего окна» и с разными пороговыми значениями опций, могут использоваться для создания классификации местности или категоризации объектов и форм рельефа в пределах ландшафта. <span class="monospace">TPI</span> - весьма популярный параметр, часто используемый в почвенном и ландшафтном картографировании.</p>
<br>


 <h3 id="h3_5">11.5. Действительная классификация и генерализация переменных</h3>


<p>В предыдущем разделе <a href="book_3_10.html">(3.10)</a> мы уже обращались к проблеме использования различных способов классификации ЦМР на примере высотных ступеней, выявив при этом несколько важных особенностей:</p>
<ol>
<li>Способы полуавтоматической классификации, относящиеся к разным группам равных интервалов, неравных интервалов и нерегулярных классов, дают разные результаты при заданном экспертом одинаковом числе классов;</li>
<li>"Встроенные" в современные ГИС-пакеты способы классификации не слишком хорошо подходят к паретианскому распределению, каковое свойственно (как правило - при достаточно больших размерах сцены) рельеф-полю значений;</li>
<li>Разработанный специально для множеств Head-and-Tail способ классификации Б.Сянга  может приводить к значительному числу классов (для территории России при размере пикселя 30 арксекунд  выделяется 22 класса);</li>
<li>В большинстве ГИС первичная классификация растра высот (как и любого другого растра) реализована в качестве процедуры оформления слоя и является методом визуального отображения, но не истинной классификацией, поскольку пиксели (ячейки) грида сохраняют свое абсолютное значение.</li>
</ol>

<p>Таким образом для истинной классификации, в результате которой каждая ячейка грида приобретает назначенное ей значение порядкового номера класса, необходимо дополнительно задействовать  специальный инструмент. В современных  ГИС - например, в <span class="red">ArcMAP10.x</span> инструмент <span class="blackbold">Reclassify</span> использует полученную на этапе визуальной классификации разбивку на классы (т.е., программа "понимает" число классов и пороговые значения между ними) и пользователю остается только указать порядок (номер или индекс класса) напротив соответствующего диапазона абсолютных значений. В более "спартанских" ГИС (например <span class="blue">SAGA GIS</span>) для классификации растров необходимо создать специальную <span class="monospace">look up table|таблицу подставляемых значений</span>, но, опять-таки, сделать это можно сохранив (командой <span class="monospace">export</span>) в соответствующем формате <span class="backgreencursiv">dbf, txt, xls</span> таблицу предварительно визуально оформленного слоя.</p>


<p>Итак, в <span class="red">ArcMAP10.x</span>, предоставляющем пользователю, пожалуй, самый удобный инструмент классифицирования, для замены действительных значений высот классами мы должны воспользоваться инструментом <span class="blackbold">Reclassify</span> набора <span class="blackbold">Reclass</span> группы <span class="blackbold">Spatial Analyst Tools</span>; алгоритм использует подготовленную  разбивку псевдоклассификации, поэтому необходимо просто назначить номера классов в позиции <span class="cursive">Reclassification</span> диалогового окна инструмента <a href="#dem_7r">(Рис. 11.24)</a>.</p>

<a id="dem_7r"><img src="Pict_3_11/dem_7r_tool.png" width="50%" height="relative"></a>
<br><span class="imgtitle">Рис. 11.24 Подстановка номеров классов вместо интервалов абсолютных значений высот в диалоговом окне инструмента Reclassify ArcMap.10.x</p>

<p>Результат выполнения алгоритма  <span class="blackbold">Reclassify</span> - атрибутированный растр, в котором каждая ячейка содержит номер класса, в чем можно убедиться щелкнув инструментом <span class="monospace">информатор</span> в любом месте растрового слоя <a href="#H_7r_table">(Рис. 11.25)</a>.</p>

<div class="script_01">
<figure>
<a id="H_7r_table"><img src="Pict_3_11/H_7r_table.png" width="170%" height="relative"></a>
</figure>
<figure align=right>
<a id="H_7r_tableL"><img src="Pict_3_11/H_7r_tableL.png" width="22%" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.25 Классификация  на 7 высотных ступеней территории Приэльбрусья способом геометрических интервалов: вверху справа - таблица слоя с общим числом пикселей Count каждого класса Value</p>

<p>Таблица слоя классифицированного растра содержит данные об общем количестве пикселей <span class="cursive">Count</span> каждого класса <span class="cursive">Value</span>. Добавив к таблице новое поле колонку (<span class="monospace">Table >> Add field</span>) с помощью калькулятора поля можно рассчитать процент поверхности, занимаемый каждым классом. Предварительно необходимо открыть <span class="cursive">Statistic|Статистику</span> поля <span class="cursive">Count</span> и скопировать оттуда суммарное число пикселей слоя <span class="cursive">Sum</span>. Тогда процент рассчитывается как:</p> 

N% = [COUNT] / Sum * 100 <br>
(в нашем случае Sum=5259316)

<p>Построив график по данным поля <span class="cursive">Percent</span> (<span class="monospace">View >> Grafs >> Create Grafs</span>) получим представление о распределении высотных ступеней - можно видеть, что оно сдвинуто относительно нормального в сторону нижних значений уровней высот <a href="#table_H7rgraf">(Рис. 11.26)</a>.</p>

<div class="script_01">
<figure>
<a id="table_H7r.png"><img src="Pict_3_11/table_H7r.png" width="200" height="relative"></a>
</figure>
<figure>
<a id="table_H7rgraf"><img src="Pict_3_11/table_H7rgraf.png" width="200" height="relative"></a>
</figure>
</div>
<br><span class="imgtitle">Рис. 11.26 Таблица классифицированного растра и график распределения высотных ступеней</p>

<p>Подобным образом классифицируются любые растры действительных значений. Особенный вариант представляет классифицирование <span class="monospace">Экспозиции</span> в <span class="red">ArcMAP10.x</span>. Результат работы инструмента <span class="blackbold">Aspect</span> уже по сути псевдоклассификации на 9 румбов и плоскость; однако в таком виде растр сложно использовать для дальнейшего моделирования, и его  реклассифицируют следующим образом <a href="#asp_reclas">(Рис. 11.27)</a>.</p>

<div class="script_01">
<figure align=center>
<a id="asp_L_row"><img src="Pict_3_11/asp_L_row.png" width="110" height="relative"></a>
</figure>
<figure align=left>
<a id="asp_reclas"><img src="Pict_3_11/asp_reclas.png" width="210" height="relative"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.27 Первичная псевдоклассификация и таблица реклассификации (9 классов) экспозиции поверхности</p>

<p>В результате классификации 10 классов экспозиции заменяются на 9 классов; в горных областях, где класс <span class="cursive">flat</span> (плоские поверхности) могут быть ничтожны и тогда на выходе (как в данном случае) - 8 классов склонов <a href="#asp_fragm_row">(Рис. 11.28)</a>.</p>

<a id="asp_fragm_row"><img src="Pict_3_11/asp_fragm_row.png" width="80%" height="relative"></a>

<br><span class="imgtitle">Рис. 11.28 Реклассификация (8 классов) экспозиции склонов территории Приэльбрусья</p>

<p>В сложно расчлененных областях, как горных, так и эрозионно-равнинных или холмистых, "мозаика" экспозиции выглядит хаотично, поскольку отображение получает каждая отдельная "фасетка" склонов. <span class="bolditalic">Если предполагается использовать растр для дальнейшего моделирования целесообразно осуществить генерализацию, каковая может быть содержательной и автоматической</span>.</p>

<p><span class="bolditalic">Содержательная генерализация</span> предполагает отказ от части мелких деталей и возможна в том случае, если местность сформировалась как комплекс господствующих хребтов и долин между ними (т.е., гребне-килевых ЭП, принадлежащих к одному размерному ряду). В этом случае целесообразно выделить склоны двух противоположных экспозиций (скажем, северных и южных в условиях широтного протяжения хребтов, западных и восточных - при меридиональном, северо-западных и юго-восточных при диагональном протяжении). Однако подобное строение - встречается далеко не всегда, более обычна ситуация когда от главных хребтов отходят (под некоторым углом) придаточные гребни, а от них, в свою очередь, - контрфорсы склонов.  В этих случаях мы получим сложную картину сочетания разнонаправленных  (возможно - иерархически соподчиненных) склонов: инструментом для оценки частоты распространения склонов разной экспозиции может быть подсчет процентов распространения ЭП разных румбов.</p>

<a id="asp_percent"><img src="Pict_3_11/asp_percent.png" width="40%"</a>
<br><span class="imgtitle">Рис. 11.29 Процент распространенности разнонаправленных склонов слоя экспозиции Приэльбрусья  </p>

<p>Как можно видеть <a href="#asp_percent">(Рис. 11.29)</a> склоны Приэльбрусья распределились практически в равных долях между восемью румбами, что не оставляет нам возможности для содержательной генерализации. Когда такая возможность есть - можно просто провести еще одну переклассификацию, приравняв значения "ничтожных" экспозиций к основным, т.е., записав, к примеру:</p>

"2 = 1" и "8 = 1" (северо-западные и северо-восточные склоны включается в класс северных)

<p><span class="bolditalic">Полуавтоматические методы генерализации растров</span> - обработка растров для избавления от информационного шума, присутствующего в классифицированных растрах в форме одиночных пикселей и мелких агрегатов пикселей, которые в дальнейшем значительно осложняют процедуры комбинирования и любого другого типа наложения (оверлея) слоев. Поэтому от них следует избавляться.</p> 

<p>Устранение шумов достигается последовательной "чисткой" растра двумя инструментами из группы <span class="blackbold">Spatial analyst</span>: <span class="blackbold">Focal Statistics|Фокальная статистика</span>  набора <span class="blackbold">Neighborood|Окрестность</span> <a href="#focal_stat">(Рис. 11.30a)</a> и <span class="blackbold">Boundary Clean|Удаление границ</span>  набора <span class="blackbold">Generalization|Генерализация</span> <a href="#bounrary">(Рис. 11.30b)</a>.</p>

<p>Инструмент <span class="blackbold">Focal Statistics</span> вычисляет для каждой входной ячейки статистику значений в определенной вокруг нее окрестности – запускается с опциями <span class="cursive">Circle|Окружность</span>  для типа <span class="monospace">Neighborood|Окрестности</span>, c размером радиуса <span class="greencursiv">3 ячейки</span> и <span class="cursive">MAJORITY</span> для <span class="monospace">Statistic type|Тип статистики</span>, который вычисляет значение большинства, встречающегося чаще других для ячеек указанной окрестности).</p>

<div class="script_01">
<figure>
<a id="focal_stat"><img src="Pict_3_11/focal_stat.png" width="200" height="235"></a>
</figure>
<figure align=center>
<a id="bounrary"><img src="Pict_3_11/bounrary_clean_tool.png" width="200" height="235"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.30 Диалоговые окна инструментов: a) Focal Statistics, и b) Boundary Clean </p>

<p>Инструмент <span class="blackbold"> Boundary Clean|Удаление границ </span> применяется к растру, обработанному фокальной статистикой для окончательной генерализации и ликвидации мелких деталей с опциями <span class="cursive">DESCEND</span> для <span class="monospace">Метода сортировки</span> и "галочкой" для обозначения возможности повторного запуска.</p>

<table id="customers">
      <table border="0">
        <tr>
         <td><a id="asp_fragm_row"><img src="Pict_3_11/asp_fragm_row.png" width="200" height="150"></a</td>
         <td><a id="asp_fragm_F"><img src="Pict_3_11/asp_fragm_F.png" width="200" height="150"></a></td>
         <td><a id="asp_fragm_FB"><img src="Pict_3_11/asp_fragm_FB.png" width="200" height="150"></a></td>
        </tr>
</table>

<br><span class="imgtitle">Рис. 11.31 Растр экспозиции реклассифицированный на 8 классов (a), после фокальной статистики (b), после удаления границ (с).</p>

<p>Оба  инструмента  <span class="blackbold">Focal Statistics</span>  и <span class="blackbold">Boundary Clean</span> можно объединить  в рамках общего алгоритма  – специальной модели генерализации, создаваемой средствами приложения <span class="blackbold">ModelBuilder</span>. Такой инструмент может называться, скажем, «Clean_focal_boundary» и выглядеть как показано ниже <a href="#b_modelbiulder">(Рис. 11.32)</a>.</p>

<a id="fb_modelbiulder"><img src="Pict_3_11/fb_modelbiulder.png" width="65%" height="relative"></a>
<br><span class="imgtitle">Рис. 11.32 "Двухходовый" инструмент избавления от шумов и генерализации растра в Model Builder <span class="red">ArcMAP10.x</span></p>
<br>


<h3 id="h3_6">11.6. Классификация в SAGA GIS</h3>


<p>В <span class="blue">SAGA GIS</span> классифицирование пока реализовано с чуть меньшим "комфортом" для пользователя. Растр высот открывается здесь также в "растяжке" псевдоклассификации (<span class="monospace">Type Graduated Colors</span> - градуированная шкала цветов).</p>

<a id="saga_dem_gradcolors"><img src="Pict_3_11/saga_dem_gradcolors.png" width="80%" height="relative"></a>
<br><span class="imgtitle">Рис. 11.33 Общий вид загруженного грида высот с раскраской 11 цветов (Graduated Colors) в SAGA и переход к диалогу Classify</p>

<p>Для классификации растра необходимо щелкнуть на названии слоя во вкладке данных (<span class="monospace">Data</span>), после чего открывается диалоговое окно <span class="monospace">Classify</span> <a href="#saga_dem_gradcolors">(Рис. 11.33)</a>. Здесь необходимо выбрать число классов и метод классификации:</p>

<div class="script_01">

 Unique values|Уникальные значения,<br> 
 Equal intervals|Равные интервалы,<br> 
 Qunatile|Квантиль,<br>  
 Natural Breaks|Естественные границы.<br>  

</div>
<p>В соответствии с <span class="monospace">Number of Classes|Числом классов </span>  выбирается <span class="monospace">Colors|число Цветов</span> во вкладке <span class="monospace">Colors</span> (позиция <span class="monospace">Count >> Input</span>), выберем <span class="cursive">Естественные границы</span> и оставим <span class="cursive">топографическую раскраску</span> для <span class="greencursiv">7 </span>классов ступеней высот <a href="#saga_classify">(Рис. 11.34)</a>.</p>

<div class="script_01">
<figure>
<a id="saga_classify"><img src="Pict_3_11/saga_classify.png" width="200" height="170"></a>
</figure>
<figure align=left>
<a id="saga_classify_color"><img src="Pict_3_11/saga_classify_color.png" width="200" height="170"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.34 Выбор опций  диалогового окна Classify</p>

<p>Вид растра изменится, а во вкладке свойств изображения <span class="monospace">Properties</span> одновременно меняется тип оформления растра на <span class="cursive">Classified</span>, и появляется новая позиция <span class="monospace">Table|Таблица</span>, при нажатии которой открывается одноименная вкладка.</p>

<a id="saga_classify_result"><img src="Pict_3_11/saga_classify_result.png" width="80%" height="relative"></a>
<br><span class="imgtitle">Рис. 11.35 Классифицированный растр</p>

<p>Появляющаяся  таблица <a href="#saga_classify_table">(Рис. 11.36)</a> содержит диапазоны и пороговые значения классов. Не забываем, что эта стадия - полный аналог псевдоклассификации в <span class="red">ArcMAP10.x</span> (раскраска по выбранным диапазонам) и перед нами пока неклассифицированный растр.</p>

<a id="saga_classify_table"><img src="Pict_3_11/saga_classify_table.png" width="50%" height="relative"></a>
<br><span class="imgtitle">Рис. 11.36 Таблица классов</p>

<p>Следующим действием необходимо сохранить таблицу (по сути - выбранные значения классов) с помощью обычной команды <span class="monospace">Save</span> на этой же вкладке <span class="monospace">Table</span>. В появившемся стандартном диалоге сохранения выбираем название (логично, если оно совпадет с названием слоя) и формат файла <span class="backgreencursiv">dbf</span> - расширение надо внести вручную (после точки). Далее необходимо загрузить созданную таблицу <span class="backgreencursiv">DBF</span> в рабочий набор командой <span class="monospace">File >> Table >> Load,</span> выбрав ее в каталоге. В панели <span class="monospace">Data</span> появится новый раздел <span class="monospace">Table</span>, в котором отобразится название загруженной таблицы.</p>

<p>Открываем таблицу двойным щелчком и слегка отредактируем: в таблице 5 полей - <span class="cursive">Color, Name, Desription, Minimum, Maximum</span>; необходимо оставить два последних поля и добавить к ним новое со значением <b>new</b>. Для удаления полей щелкаем на названии любого из них  и открываем диалог <span class="monospace">Delete Fields</span>. Удаляем ненужные поля, далее в аналогичном диалоге <span class="monospace">Add Fields</span> добавляем поле, в котором вбиваем значения классов от 1 до 7. Сохраняем таблицу <a href="#saga_classify_table_01">(Рис. 11.37)</a>.</p>

<div class="script_01">
<figure>
<a id="saga_classify_table_01"><img src="Pict_3_11/saga_classify_table_01.png" width="250" height="270"></a>
</figure>
<figure align=center>
<a id="saga_table_add_field.png"><img src="Pict_3_11/saga_table_add_field.png" width="250" height="270"></a>	
</figure>
</div>
<br><span class="imgtitle">Рис. 11.37 Удаление ненужных полей и добавление поля New при редактировании таблицы классов</p>

<p>Итоговая таблица должна включать три поля и выбранное число классов:</p>

<a id="saga_table_correct"><img src="Pict_3_11/saga_table_correct.png" width="200"></a>
<br><span class="imgtitle">Рис. 11.38 Итоговая таблица для классифицирования грида высот</p>

<p>Далее запускаем инструмент <span class="blackbold">Reclassify Grid Values</span> набора <span class="blackbold">Tools</span> группы <span class="blackbold">Grid</span>. В диалоговом окне в позиции <span class="monospace">Option</span> выставляем <span class="monospace">Method|Метод >> simple table</span> (обычная таблица), в поле <span class="monospace">Lookup table</span> загружаем нашу преобразованную таблицу: если она изменена корректно, то появится в поле диалога <span class="monospace">>> Ok</span> и далее в <span class="monospace">Lookup table</span> отобразится нужное число колонок и строк (классов).</p>

<a id="saga_reclassify"><img src="Pict_3_11/saga_reclassify_tool.png" width="300"></a>
<br><span class="imgtitle">Рис. 11.39 Диалоговое окно инструмента Reclassify Grid Values</p>

<p>В списке данных появится новый растр с добавлением <span class="backgreencursiv">Reclassified</span> к исходному названию растра - его лучше сохранить под новым именем. Чтобы увидеть результат надо оформить растр как <span class="cursive">Discrete Colors</span> <span class="monospace">Type</span>, выбрать палитру для семи цветов в позиции <span class="monospace">Count</span> и выставить в поле <span class="monospace">Range|Диапазон</span> - <span class="greencursiv">1;7</span>. </p>

<a id="saga_reclassify_result"><img src="Pict_3_11/saga_reclassify_result.png" width="80%"></a>
<br><span class="imgtitle">Рис. 11.40 Классифицированный грид высот в SAGA GIS</p>

<p>Обработка классифицированного растра в <span class="blue">SAGA GIS</span> для избавления от шумов может быть осуществлена инструментом <span class="blackbold">Majority/Minority Filter</span> набора <span class="blackbold">Filter</span> группы <span class="blackbold">Grid</span>. Опции: <span class="monospace">Type</span> - <span class="cursive">Majority</span>, <span class="monospace">Kernel Type</span> - <span class="cursive">Circle</span>, <span class="monospace">Radius</span> - <span class="greencursiv">3</span>, критическая опция - <span class="monospace">Treshold|Пороговое значение</span>  устанавливается методом "проб и ошибок" - чем выше значение, тем больше мелких деталей будет убрано.</p>


<h3 id="h3_7">11.7. Техника комбинирования морфометрических переменных</h3>


<p>Комбинирование переменных является простейшим и традиционным методом <span class="blackbold">наложения|overlay</span> слоев  для получения комплексных характеристик земной поверхности. В следующих разделах мы рассмотрим более подробно значение этой традиции, сыгравшей значимую роль в самых разных видах географического картографирования и моделирования. Здесь же продемонстрируем сущность самой процедуры при использовании ГИС-инструментария, а также некоторые особенности интерпретации и визуализации результатов.</p>

<p>Попробуем провести оверлей двух полученных ранее классифицированных и подвернутых генерализации (инструментами фокальной статистики и удаления границ) метрик - ступеней <span class="monospace">абсолютной высоты</span> и <span class="monospace">уклона</span> земной поверхности.</p>

<p>В <span class="red">ArcMAP10.x</span> комбинирование растров осуществляется инструментом <span class="blackbold">Combine</span> набора <span class="blackbold">Local</span> группы <span class="blackbold">Spatial Analyst Tools</span>. Интерфейс инструмента элементарен и не содержит дополнительных опций, в позицию заносятся входные растры (<span class="monospace">input raster</span>), на выходе - комбинированный растр (<span class="monospace">output raster</span>).</p> 

<p><span class="bolditalic">Комбинирование представляет собой умножение двух матриц, поэтому итоговый растр, будет иметь число классов равное произведению числа классов каждого из исходных растров</span>; предположим у нас <span class="greencursiv">7</span> высотных ступеней рельефа и <span class="greencursiv">4</span> класса крутизны склонов:</p>  

N<sub>cl</sub> = 7<sub>dem</sub> * 4<sub>slope</sub> = 28 

<p>Для визуализации классов выходного растра необходимо выбрать в закладке <span class="monospace">Symbology</span> вариант <span class="cursive">Unique Values|Уникальные значения</span>.</p>

<a id="com_demslope"><img src="Pict_3_11/com_demslope.png" width="80%"></a>
<br><span class="imgtitle">Рис. 11.41 Комбинированный растр "высота-уклон" с 28 классами значений</p>

<p>Для интерпретации результатов откроем таблицу слоя, она содержит четыре значимых поля:  <span class="cursive">Value</span> (номер класса), поле <span class="cursive">Count</span>  с числом ячеек каждого типа и два поля индексов исходных растров, сохраняющее наименования  - ступеней высоты  <span class="bcursive">DEM_7R</span> и классов крутизны <span class="cursive">SLOPE_4R</span>.  Добавим новое поле для итогового индекса классов <span class="cursive">Ind</span> (<span class="cursive">Type</span> - <span class="greencursiv">text|текстовое</span>) к таблице слоя и получим значение посредством <span class="blackbold">сцепления</span> исходных индексов (эта операция называется <span class="blackbold">конкатенацией</span> значений):</p>

<div class="script_01">
Ind=[DEM_7R] & [SLOPE_4R]
</div>

<p>Далее добавив числовое поле <span class="backgreencursiv">Percent</span> рассчитаем процент покрытия для каждого индекса (предварительно выяснив в <span class="cursive">Statistic</span> поля <span class="backgreencursiv">Count</span> общее число ячеек).</p>

<a id="com_demslope_table"><img src="Pict_3_11/com_demslope_table.png" width="300" height="relative"></a>
<br><span class="imgtitle">Рис. 11.42 Таблица комбинированного растра "высота-уклон"</p>

<p>Представленная в таком виде таблица слоя позволяет интерпретировать результаты. Число индекса содержит комплексную характеристику, которая по традиции может быть выражена в терминах, если мы предварительно договоримся о названиях классов (например, назовем именами высотные пояса (1 - "пойма", 2 - "склоны долин и ущелий"..., 5 - "средние части склонов гор"..., 7 - "вершины и привершинные поверхности")  и степени уклона ("пологий", "покатый", "крутой", "отвесный"). Тогда класс <span class="greencursiv">74</span> будет (условно) означать "очень высокие крутые склоны вершин",  <span class="greencursiv">11</span> - "плоские днища долин", <span class="greencursiv">64</span> - "отвесные пригребневые поверхности высоких хребтов".</p>

<p>Распространенность классов в поле <span class="backgreencursiv">Percnt</span> позволяет судить о том, насколько корректно было выбрано число классов исходных растров: обилие комбинированных классов, занимающих доли процента как правило, свидетельствует об излишнем количестве. Например в данном случае "ничтожными" - занимающими менее полпроцента - являются все классы, образованные седьмой ступенью высоты, что неудивительно ибо этот класс распространяется только на самые верхние части "конуса" Эльбруса. Далее могут быть приняты два решения (в зависимости от задач моделирования): либо мы ликвидируем ничтожные классы реклассификацией, отнеся их к другим классам, либо оставляем "как есть" - если выявленные сущности имеют особое значения для модели (редкие, но важные местоположения). Так класс <span class="greencursiv">71</span> - означает пологие поверхности верхнего пояса:  избавляться от него или нет - решать пользователю, ибо ничтожные классы могут информационным шумом наложения, но могут быть и отображением уникальной формы рельефа - кальдеры вулкана или днища цирка возле классической альпийской вершины.</p>

<p>Комбинированные растры обычно содержат много "шума" - (в тем большей степени, чем большим было число классов в привлеченных для операции Combine исходных слоях), для  избавления от которого можно использовать инструменты <span class="blackbold">Focal statistic</span> и <span class="blackbold">Boundary clean</span>; обработанный растр с теневой отмывкой выглядит, как правило более презентабельно, поскольку содержит меньше случайных деталей. Следует иметь ввиду что оба инструмента генерализации и чистки удаляют все значимые поля таблицы кроме поля <span class="backgreencursiv">Value</span>, но можно присоединить все необходимые характеристики простой операцией <span class="blackbold">Joint</span> по полю уникального идентификатора <span class="backgreencursiv">RowID</span>, и, таким образом, восстановить семантику слоя.</p>

<a id="com_demslopeFB"><img src="Pict_3_11/com_demslopeFB.png" width="90%" height="relative"></a>
<br><span class="imgtitle">Рис. 11.43 Комбинированный растр "высота-уклон" после обработки со слоем HillShade для визуализации</p>

<p>В <span class="blue">SAGA GIS</span> комбинирование растров осуществляется инструментом <span class="blackbold">Combine Grids</span> набора <span class="blackbold">Tools</span> группы <span class="blackbold">Grid</span>. Следует помнить, что, если исходные гриды классифицированы в сторонней программе -  например в <span class="red">ArcMAP10.x</span>, то <span class="blue">SAGA GIS</span>  "видит" их как папку с файлами семи разных расширений, из которых открывается как растр только файл с именем <span class="backgreen">w001001.adf</span> (предварительно в окне поиска надо выставить <span class="cursive">All Files</span>). Разумеется с собственными файлами <span class="blue">SAGA GIS</span> таких проблем не возникает.</p>


<p>Итак, оверлей слоев способом комбинирования заставляет нас посмотреть на операцию классификации переменных еще с одной стороны. Если некий параметр классифицируется с целью его последующего комбинирования с другими (возможно несколькими - допустим, мы добавим к высоте и уклону переменную экспозиции) параметрами, то лучше "пожертвовать" детальностью классифицирования (т.е., числом классов) ради возможности корректной интерпретации результата комбинирования, поскольку перемножение числа таксонов каждой переменной очень быстро увеличивает число итоговых классов. На самом деле здесь нет больших "жертв" - в многомерном пространстве переменных следует учитывать и их возможную взаимосвязь, в данном случае не обязательно пытаться дифференцировать все элементарные поверхности рельефа классами одной переменной: внутри класса "средне-высотных склонов" переменная уклона может дифференцировать "крутые" и "пологие" склоны, а переменная экспозиция - "северные" и" южные". Иными словами, "недовыделенные" за счет сокращения "оптимального" числа классов высоты ЭП будут дифференцированы другими переменными, при этом общая картина станет потенциально интерпретируемой.</p>
<br>



</div>

<footer id="main-footer">Пространственный анализ в геоэкологии &copy; Е.Ю.Колбовский, 2022 </footer>
</div class="content">
</body>
</html>